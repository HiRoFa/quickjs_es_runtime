<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Source of the Rust file `/home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/miette-7.6.0/src/lib.rs`."><title>lib.rs - source</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-84e720fa.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="miette" data-themes="" data-resource-suffix="" data-rustdoc-version="1.89.0 (29483883e 2025-08-04)" data-channel="1.89.0" data-search-js="search-92309212.js" data-settings-js="settings-5514c975.js" ><script src="../../static.files/storage-4e99c027.js"></script><script defer src="../../static.files/src-script-813739b1.js"></script><script defer src="../../src-files.js"></script><script defer src="../../static.files/main-fd3af306.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-32bb7600.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc src"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="src-sidebar-title"><h2>Files</h2></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1><div class="sub-heading">miette/</div>lib.rs</h1><rustdoc-toolbar></rustdoc-toolbar></div><div class="example-wrap digits-3"><pre class="rust"><code><a href=#1 id=1 data-nosnippet>1</a><span class="attr">#![deny(missing_docs, missing_debug_implementations, nonstandard_style)]
<a href=#2 id=2 data-nosnippet>2</a>#![warn(unreachable_pub, rust_2018_idioms)]
<a href=#3 id=3 data-nosnippet>3</a>#![allow(unexpected_cfgs)]
<a href=#4 id=4 data-nosnippet>4</a></span><span class="doccomment">//! You run miette? You run her code like the software? Oh. Oh! Error code for
<a href=#5 id=5 data-nosnippet>5</a>//! coder! Error code for One Thousand Lines!
<a href=#6 id=6 data-nosnippet>6</a>//!
<a href=#7 id=7 data-nosnippet>7</a>//! ## About
<a href=#8 id=8 data-nosnippet>8</a>//!
<a href=#9 id=9 data-nosnippet>9</a>//! `miette` is a diagnostic library for Rust. It includes a series of
<a href=#10 id=10 data-nosnippet>10</a>//! traits/protocols that allow you to hook into its error reporting facilities,
<a href=#11 id=11 data-nosnippet>11</a>//! and even write your own error reports! It lets you define error types that
<a href=#12 id=12 data-nosnippet>12</a>//! can print out like this (or in any format you like!):
<a href=#13 id=13 data-nosnippet>13</a>//!
<a href=#14 id=14 data-nosnippet>14</a>//! &lt;img src="https://raw.githubusercontent.com/zkat/miette/main/images/serde_json.png" alt="Hi! miette also includes a screen-reader-oriented diagnostic printer that's enabled in various situations, such as when you use NO_COLOR or CLICOLOR settings, or on CI. This behavior is also fully configurable and customizable. For example, this is what this particular diagnostic will look like when the narrated printer is enabled:
<a href=#15 id=15 data-nosnippet>15</a>//! \
<a href=#16 id=16 data-nosnippet>16</a>//! Error: Received some bad JSON from the source. Unable to parse.
<a href=#17 id=17 data-nosnippet>17</a>//!     Caused by: missing field `foo` at line 1 column 1700
<a href=#18 id=18 data-nosnippet>18</a>//! \
<a href=#19 id=19 data-nosnippet>19</a>//! Begin snippet for https://api.nuget.org/v3/registration5-gz-semver2/json.net/index.json starting
<a href=#20 id=20 data-nosnippet>20</a>//! at line 1, column 1659
<a href=#21 id=21 data-nosnippet>21</a>//! \
<a href=#22 id=22 data-nosnippet>22</a>//! snippet line 1: gs&amp;quot;:[&amp;quot;json&amp;quot;],&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;version&amp;quot;:&amp;quot;1.0.0&amp;quot;},&amp;quot;packageContent&amp;quot;:&amp;quot;https://api.nuget.o
<a href=#23 id=23 data-nosnippet>23</a>//!     highlight starting at line 1, column 1699: last parsing location
<a href=#24 id=24 data-nosnippet>24</a>//! \
<a href=#25 id=25 data-nosnippet>25</a>//! diagnostic help: This is a bug. It might be in ruget, or it might be in the
<a href=#26 id=26 data-nosnippet>26</a>//! source you're using, but it's definitely a bug and should be reported.
<a href=#27 id=27 data-nosnippet>27</a>//! diagnostic error code: ruget::api::bad_json
<a href=#28 id=28 data-nosnippet>28</a>//! " /&gt;
<a href=#29 id=29 data-nosnippet>29</a>//!
<a href=#30 id=30 data-nosnippet>30</a>//! &gt; **NOTE: You must enable the `"fancy"` crate feature to get fancy report
<a href=#31 id=31 data-nosnippet>31</a>//! &gt; output like in the screenshots above.** You should only do this in your
<a href=#32 id=32 data-nosnippet>32</a>//! &gt; toplevel crate, as the fancy feature pulls in a number of dependencies that
<a href=#33 id=33 data-nosnippet>33</a>//! &gt; libraries and such might not want.
<a href=#34 id=34 data-nosnippet>34</a>//!
<a href=#35 id=35 data-nosnippet>35</a>//! ## Table of Contents &lt;!-- omit in toc --&gt;
<a href=#36 id=36 data-nosnippet>36</a>//!
<a href=#37 id=37 data-nosnippet>37</a>//! - [About](#about)
<a href=#38 id=38 data-nosnippet>38</a>//! - [Features](#features)
<a href=#39 id=39 data-nosnippet>39</a>//! - [Installing](#installing)
<a href=#40 id=40 data-nosnippet>40</a>//! - [Example](#example)
<a href=#41 id=41 data-nosnippet>41</a>//! - [Using](#using)
<a href=#42 id=42 data-nosnippet>42</a>//!   - [... in libraries](#-in-libraries)
<a href=#43 id=43 data-nosnippet>43</a>//!   - [... in application code](#-in-application-code)
<a href=#44 id=44 data-nosnippet>44</a>//!   - [... in `main()`](#-in-main)
<a href=#45 id=45 data-nosnippet>45</a>//!   - [... diagnostic code URLs](#-diagnostic-code-urls)
<a href=#46 id=46 data-nosnippet>46</a>//!   - [... snippets](#-snippets)
<a href=#47 id=47 data-nosnippet>47</a>//!   - [... help text](#-help-text)
<a href=#48 id=48 data-nosnippet>48</a>//!   - [... severity level](#-severity-level)
<a href=#49 id=49 data-nosnippet>49</a>//!   - [... multiple related errors](#-multiple-related-errors)
<a href=#50 id=50 data-nosnippet>50</a>//!   - [... delayed source code](#-delayed-source-code)
<a href=#51 id=51 data-nosnippet>51</a>//!   - [... handler options](#-handler-options)
<a href=#52 id=52 data-nosnippet>52</a>//!   - [... dynamic diagnostics](#-dynamic-diagnostics)
<a href=#53 id=53 data-nosnippet>53</a>//!   - [... syntax highlighting](#-syntax-highlighting)
<a href=#54 id=54 data-nosnippet>54</a>//!   - [... primary label](#-primary-label)
<a href=#55 id=55 data-nosnippet>55</a>//!   - [... collection of labels](#-collection-of-labels)
<a href=#56 id=56 data-nosnippet>56</a>//! - [Acknowledgements](#acknowledgements)
<a href=#57 id=57 data-nosnippet>57</a>//! - [License](#license)
<a href=#58 id=58 data-nosnippet>58</a>//!
<a href=#59 id=59 data-nosnippet>59</a>//! ## Features
<a href=#60 id=60 data-nosnippet>60</a>//!
<a href=#61 id=61 data-nosnippet>61</a>//! - Generic [`Diagnostic`] protocol, compatible (and dependent on)
<a href=#62 id=62 data-nosnippet>62</a>//!   [`std::error::Error`].
<a href=#63 id=63 data-nosnippet>63</a>//! - Unique error codes on every [`Diagnostic`].
<a href=#64 id=64 data-nosnippet>64</a>//! - Custom links to get more details on error codes.
<a href=#65 id=65 data-nosnippet>65</a>//! - Super handy derive macro for defining diagnostic metadata.
<a href=#66 id=66 data-nosnippet>66</a>//! - Replacements for [`anyhow`](https://docs.rs/anyhow)/[`eyre`](https://docs.rs/eyre)
<a href=#67 id=67 data-nosnippet>67</a>//!   types [`Result`], [`Report`] and the [`miette!`] macro for the
<a href=#68 id=68 data-nosnippet>68</a>//!   `anyhow!`/`eyre!` macros.
<a href=#69 id=69 data-nosnippet>69</a>//! - Generic support for arbitrary [`SourceCode`]s for snippet data, with
<a href=#70 id=70 data-nosnippet>70</a>//!   default support for `String`s included.
<a href=#71 id=71 data-nosnippet>71</a>//!
<a href=#72 id=72 data-nosnippet>72</a>//! The `miette` crate also comes bundled with a default [`ReportHandler`] with
<a href=#73 id=73 data-nosnippet>73</a>//! the following features:
<a href=#74 id=74 data-nosnippet>74</a>//!
<a href=#75 id=75 data-nosnippet>75</a>//! - Fancy graphical [diagnostic output](#about), using ANSI/Unicode text
<a href=#76 id=76 data-nosnippet>76</a>//! - single- and multi-line highlighting support
<a href=#77 id=77 data-nosnippet>77</a>//! - Screen reader/braille support, gated on [`NO_COLOR`](http://no-color.org/),
<a href=#78 id=78 data-nosnippet>78</a>//!   and other heuristics.
<a href=#79 id=79 data-nosnippet>79</a>//! - Fully customizable graphical theming (or overriding the printers
<a href=#80 id=80 data-nosnippet>80</a>//!   entirely).
<a href=#81 id=81 data-nosnippet>81</a>//! - Cause chain printing
<a href=#82 id=82 data-nosnippet>82</a>//! - Turns diagnostic codes into links in [supported terminals](https://gist.github.com/egmontkob/eb114294efbcd5adb1944c9f3cb5feda).
<a href=#83 id=83 data-nosnippet>83</a>//!
<a href=#84 id=84 data-nosnippet>84</a>//! ## Installing
<a href=#85 id=85 data-nosnippet>85</a>//!
<a href=#86 id=86 data-nosnippet>86</a>//! ```sh
<a href=#87 id=87 data-nosnippet>87</a>//! $ cargo add miette
<a href=#88 id=88 data-nosnippet>88</a>//! ```
<a href=#89 id=89 data-nosnippet>89</a>//!
<a href=#90 id=90 data-nosnippet>90</a>//! If you want to use the fancy printer in all these screenshots:
<a href=#91 id=91 data-nosnippet>91</a>//!
<a href=#92 id=92 data-nosnippet>92</a>//! ```sh
<a href=#93 id=93 data-nosnippet>93</a>//! $ cargo add miette --features fancy
<a href=#94 id=94 data-nosnippet>94</a>//! ```
<a href=#95 id=95 data-nosnippet>95</a>//!
<a href=#96 id=96 data-nosnippet>96</a>//! ## Example
<a href=#97 id=97 data-nosnippet>97</a>//!
<a href=#98 id=98 data-nosnippet>98</a>//! ```rust
<a href=#99 id=99 data-nosnippet>99</a>//! /*
<a href=#100 id=100 data-nosnippet>100</a>//! You can derive a `Diagnostic` from any `std::error::Error` type.
<a href=#101 id=101 data-nosnippet>101</a>//!
<a href=#102 id=102 data-nosnippet>102</a>//! `thiserror` is a great way to define them, and plays nicely with `miette`!
<a href=#103 id=103 data-nosnippet>103</a>//! */
<a href=#104 id=104 data-nosnippet>104</a>//! use miette::{Diagnostic, NamedSource, SourceSpan};
<a href=#105 id=105 data-nosnippet>105</a>//! use thiserror::Error;
<a href=#106 id=106 data-nosnippet>106</a>//!
<a href=#107 id=107 data-nosnippet>107</a>//! #[derive(Error, Debug, Diagnostic)]
<a href=#108 id=108 data-nosnippet>108</a>//! #[error("oops!")]
<a href=#109 id=109 data-nosnippet>109</a>//! #[diagnostic(
<a href=#110 id=110 data-nosnippet>110</a>//!     code(oops::my::bad),
<a href=#111 id=111 data-nosnippet>111</a>//!     url(docsrs),
<a href=#112 id=112 data-nosnippet>112</a>//!     help("try doing it better next time?")
<a href=#113 id=113 data-nosnippet>113</a>//! )]
<a href=#114 id=114 data-nosnippet>114</a>//! struct MyBad {
<a href=#115 id=115 data-nosnippet>115</a>//!     // The Source that we're gonna be printing snippets out of.
<a href=#116 id=116 data-nosnippet>116</a>//!     // This can be a String if you don't have or care about file names.
<a href=#117 id=117 data-nosnippet>117</a>//!     #[source_code]
<a href=#118 id=118 data-nosnippet>118</a>//!     src: NamedSource&lt;String&gt;,
<a href=#119 id=119 data-nosnippet>119</a>//!     // Snippets and highlights can be included in the diagnostic!
<a href=#120 id=120 data-nosnippet>120</a>//!     #[label("This bit here")]
<a href=#121 id=121 data-nosnippet>121</a>//!     bad_bit: SourceSpan,
<a href=#122 id=122 data-nosnippet>122</a>//! }
<a href=#123 id=123 data-nosnippet>123</a>//!
<a href=#124 id=124 data-nosnippet>124</a>//! /*
<a href=#125 id=125 data-nosnippet>125</a>//! Now let's define a function!
<a href=#126 id=126 data-nosnippet>126</a>//!
<a href=#127 id=127 data-nosnippet>127</a>//! Use this `Result` type (or its expanded version) as the return type
<a href=#128 id=128 data-nosnippet>128</a>//! throughout your app (but NOT your libraries! Those should always return
<a href=#129 id=129 data-nosnippet>129</a>//! concrete types!).
<a href=#130 id=130 data-nosnippet>130</a>//! */
<a href=#131 id=131 data-nosnippet>131</a>//! use miette::Result;
<a href=#132 id=132 data-nosnippet>132</a>//! fn this_fails() -&gt; Result&lt;()&gt; {
<a href=#133 id=133 data-nosnippet>133</a>//!     // You can use plain strings as a `Source`, or anything that implements
<a href=#134 id=134 data-nosnippet>134</a>//!     // the one-method `Source` trait.
<a href=#135 id=135 data-nosnippet>135</a>//!     let src = "source\n  text\n    here".to_string();
<a href=#136 id=136 data-nosnippet>136</a>//!
<a href=#137 id=137 data-nosnippet>137</a>//!     Err(MyBad {
<a href=#138 id=138 data-nosnippet>138</a>//!         src: NamedSource::new("bad_file.rs", src),
<a href=#139 id=139 data-nosnippet>139</a>//!         bad_bit: (9, 4).into(),
<a href=#140 id=140 data-nosnippet>140</a>//!     })?;
<a href=#141 id=141 data-nosnippet>141</a>//!
<a href=#142 id=142 data-nosnippet>142</a>//!     Ok(())
<a href=#143 id=143 data-nosnippet>143</a>//! }
<a href=#144 id=144 data-nosnippet>144</a>//!
<a href=#145 id=145 data-nosnippet>145</a>//! /*
<a href=#146 id=146 data-nosnippet>146</a>//! Now to get everything printed nicely, just return a `Result&lt;()&gt;`
<a href=#147 id=147 data-nosnippet>147</a>//! and you're all set!
<a href=#148 id=148 data-nosnippet>148</a>//!
<a href=#149 id=149 data-nosnippet>149</a>//! Note: You can swap out the default reporter for a custom one using
<a href=#150 id=150 data-nosnippet>150</a>//! `miette::set_hook()`
<a href=#151 id=151 data-nosnippet>151</a>//! */
<a href=#152 id=152 data-nosnippet>152</a>//! fn pretend_this_is_main() -&gt; Result&lt;()&gt; {
<a href=#153 id=153 data-nosnippet>153</a>//!     // kaboom~
<a href=#154 id=154 data-nosnippet>154</a>//!     this_fails()?;
<a href=#155 id=155 data-nosnippet>155</a>//!
<a href=#156 id=156 data-nosnippet>156</a>//!     Ok(())
<a href=#157 id=157 data-nosnippet>157</a>//! }
<a href=#158 id=158 data-nosnippet>158</a>//! ```
<a href=#159 id=159 data-nosnippet>159</a>//!
<a href=#160 id=160 data-nosnippet>160</a>//! And this is the output you'll get if you run this program:
<a href=#161 id=161 data-nosnippet>161</a>//!
<a href=#162 id=162 data-nosnippet>162</a>//! &lt;img src="https://raw.githubusercontent.com/zkat/miette/main/images/single-line-example.png" alt="
<a href=#163 id=163 data-nosnippet>163</a>//! Narratable printout:
<a href=#164 id=164 data-nosnippet>164</a>//! \
<a href=#165 id=165 data-nosnippet>165</a>//! diagnostic error code: oops::my::bad (link)
<a href=#166 id=166 data-nosnippet>166</a>//! Error: oops!
<a href=#167 id=167 data-nosnippet>167</a>//! \
<a href=#168 id=168 data-nosnippet>168</a>//! Begin snippet for bad_file.rs starting
<a href=#169 id=169 data-nosnippet>169</a>//! at line 2, column 3
<a href=#170 id=170 data-nosnippet>170</a>//! \
<a href=#171 id=171 data-nosnippet>171</a>//! snippet line 1: source
<a href=#172 id=172 data-nosnippet>172</a>//! \
<a href=#173 id=173 data-nosnippet>173</a>//! snippet line 2:  text
<a href=#174 id=174 data-nosnippet>174</a>//!     highlight starting at line 1, column 3: This bit here
<a href=#175 id=175 data-nosnippet>175</a>//! \
<a href=#176 id=176 data-nosnippet>176</a>//! snippet line 3: here
<a href=#177 id=177 data-nosnippet>177</a>//! \
<a href=#178 id=178 data-nosnippet>178</a>//! diagnostic help: try doing it better next time?"&gt;
<a href=#179 id=179 data-nosnippet>179</a>//!
<a href=#180 id=180 data-nosnippet>180</a>//! ## Using
<a href=#181 id=181 data-nosnippet>181</a>//!
<a href=#182 id=182 data-nosnippet>182</a>//! ### ... in libraries
<a href=#183 id=183 data-nosnippet>183</a>//!
<a href=#184 id=184 data-nosnippet>184</a>//! `miette` is _fully compatible_ with library usage. Consumers who don't know
<a href=#185 id=185 data-nosnippet>185</a>//! about, or don't want, `miette` features can safely use its error types as
<a href=#186 id=186 data-nosnippet>186</a>//! regular [`std::error::Error`].
<a href=#187 id=187 data-nosnippet>187</a>//!
<a href=#188 id=188 data-nosnippet>188</a>//! We highly recommend using something like [`thiserror`](https://docs.rs/thiserror)
<a href=#189 id=189 data-nosnippet>189</a>//! to define unique error types and error wrappers for your library.
<a href=#190 id=190 data-nosnippet>190</a>//!
<a href=#191 id=191 data-nosnippet>191</a>//! While `miette` integrates smoothly with `thiserror`, it is _not required_.
<a href=#192 id=192 data-nosnippet>192</a>//! If you don't want to use the [`Diagnostic`] derive macro, you can implement
<a href=#193 id=193 data-nosnippet>193</a>//! the trait directly, just like with `std::error::Error`.
<a href=#194 id=194 data-nosnippet>194</a>//!
<a href=#195 id=195 data-nosnippet>195</a>//! ```rust
<a href=#196 id=196 data-nosnippet>196</a>//! // lib/error.rs
<a href=#197 id=197 data-nosnippet>197</a>//! use miette::{Diagnostic, SourceSpan};
<a href=#198 id=198 data-nosnippet>198</a>//! use thiserror::Error;
<a href=#199 id=199 data-nosnippet>199</a>//!
<a href=#200 id=200 data-nosnippet>200</a>//! #[derive(Error, Diagnostic, Debug)]
<a href=#201 id=201 data-nosnippet>201</a>//! pub enum MyLibError {
<a href=#202 id=202 data-nosnippet>202</a>//!     #[error(transparent)]
<a href=#203 id=203 data-nosnippet>203</a>//!     #[diagnostic(code(my_lib::io_error))]
<a href=#204 id=204 data-nosnippet>204</a>//!     IoError(#[from] std::io::Error),
<a href=#205 id=205 data-nosnippet>205</a>//!
<a href=#206 id=206 data-nosnippet>206</a>//!     #[error("Oops it blew up")]
<a href=#207 id=207 data-nosnippet>207</a>//!     #[diagnostic(code(my_lib::bad_code))]
<a href=#208 id=208 data-nosnippet>208</a>//!     BadThingHappened,
<a href=#209 id=209 data-nosnippet>209</a>//!
<a href=#210 id=210 data-nosnippet>210</a>//!     #[error(transparent)]
<a href=#211 id=211 data-nosnippet>211</a>//!     // Use `#[diagnostic(transparent)]` to wrap another [`Diagnostic`]. You won't see labels otherwise
<a href=#212 id=212 data-nosnippet>212</a>//!     #[diagnostic(transparent)]
<a href=#213 id=213 data-nosnippet>213</a>//!     AnotherError(#[from] AnotherError),
<a href=#214 id=214 data-nosnippet>214</a>//! }
<a href=#215 id=215 data-nosnippet>215</a>//!
<a href=#216 id=216 data-nosnippet>216</a>//! #[derive(Error, Diagnostic, Debug)]
<a href=#217 id=217 data-nosnippet>217</a>//! #[error("another error")]
<a href=#218 id=218 data-nosnippet>218</a>//! pub struct AnotherError {
<a href=#219 id=219 data-nosnippet>219</a>//!    #[label("here")]
<a href=#220 id=220 data-nosnippet>220</a>//!    pub at: SourceSpan
<a href=#221 id=221 data-nosnippet>221</a>//! }
<a href=#222 id=222 data-nosnippet>222</a>//! ```
<a href=#223 id=223 data-nosnippet>223</a>//!
<a href=#224 id=224 data-nosnippet>224</a>//! Then, return this error type from all your fallible public APIs. It's a best
<a href=#225 id=225 data-nosnippet>225</a>//! practice to wrap any "external" error types in your error `enum` instead of
<a href=#226 id=226 data-nosnippet>226</a>//! using something like [`Report`] in a library.
<a href=#227 id=227 data-nosnippet>227</a>//!
<a href=#228 id=228 data-nosnippet>228</a>//! ### ... in application code
<a href=#229 id=229 data-nosnippet>229</a>//!
<a href=#230 id=230 data-nosnippet>230</a>//! Application code tends to work a little differently than libraries. You
<a href=#231 id=231 data-nosnippet>231</a>//! don't always need or care to define dedicated error wrappers for errors
<a href=#232 id=232 data-nosnippet>232</a>//! coming from external libraries and tools.
<a href=#233 id=233 data-nosnippet>233</a>//!
<a href=#234 id=234 data-nosnippet>234</a>//! For this situation, `miette` includes two tools: [`Report`] and
<a href=#235 id=235 data-nosnippet>235</a>//! [`IntoDiagnostic`]. They work in tandem to make it easy to convert regular
<a href=#236 id=236 data-nosnippet>236</a>//! `std::error::Error`s into [`Diagnostic`]s. Additionally, there's a
<a href=#237 id=237 data-nosnippet>237</a>//! [`Result`] type alias that you can use to be more terse.
<a href=#238 id=238 data-nosnippet>238</a>//!
<a href=#239 id=239 data-nosnippet>239</a>//! When dealing with non-`Diagnostic` types, you'll want to
<a href=#240 id=240 data-nosnippet>240</a>//! `.into_diagnostic()` them:
<a href=#241 id=241 data-nosnippet>241</a>//!
<a href=#242 id=242 data-nosnippet>242</a>//! ```rust
<a href=#243 id=243 data-nosnippet>243</a>//! // my_app/lib/my_internal_file.rs
<a href=#244 id=244 data-nosnippet>244</a>//! use miette::{IntoDiagnostic, Result};
<a href=#245 id=245 data-nosnippet>245</a>//! use semver::Version;
<a href=#246 id=246 data-nosnippet>246</a>//!
<a href=#247 id=247 data-nosnippet>247</a>//! pub fn some_tool() -&gt; Result&lt;Version&gt; {
<a href=#248 id=248 data-nosnippet>248</a>//!     "1.2.x".parse().into_diagnostic()
<a href=#249 id=249 data-nosnippet>249</a>//! }
<a href=#250 id=250 data-nosnippet>250</a>//! ```
<a href=#251 id=251 data-nosnippet>251</a>//!
<a href=#252 id=252 data-nosnippet>252</a>//! `miette` also includes an `anyhow`/`eyre`-style `Context`/`WrapErr` traits
<a href=#253 id=253 data-nosnippet>253</a>//! that you can import to add ad-hoc context messages to your `Diagnostic`s, as
<a href=#254 id=254 data-nosnippet>254</a>//! well, though you'll still need to use `.into_diagnostic()` to make use of
<a href=#255 id=255 data-nosnippet>255</a>//! it:
<a href=#256 id=256 data-nosnippet>256</a>//!
<a href=#257 id=257 data-nosnippet>257</a>//! ```rust
<a href=#258 id=258 data-nosnippet>258</a>//! // my_app/lib/my_internal_file.rs
<a href=#259 id=259 data-nosnippet>259</a>//! use miette::{IntoDiagnostic, Result, WrapErr};
<a href=#260 id=260 data-nosnippet>260</a>//! use semver::Version;
<a href=#261 id=261 data-nosnippet>261</a>//!
<a href=#262 id=262 data-nosnippet>262</a>//! pub fn some_tool() -&gt; Result&lt;Version&gt; {
<a href=#263 id=263 data-nosnippet>263</a>//!     "1.2.x"
<a href=#264 id=264 data-nosnippet>264</a>//!         .parse()
<a href=#265 id=265 data-nosnippet>265</a>//!         .into_diagnostic()
<a href=#266 id=266 data-nosnippet>266</a>//!         .wrap_err("Parsing this tool's semver version failed.")
<a href=#267 id=267 data-nosnippet>267</a>//! }
<a href=#268 id=268 data-nosnippet>268</a>//! ```
<a href=#269 id=269 data-nosnippet>269</a>//!
<a href=#270 id=270 data-nosnippet>270</a>//! To construct your own simple adhoc error use the [`miette!`] macro:
<a href=#271 id=271 data-nosnippet>271</a>//! ```rust
<a href=#272 id=272 data-nosnippet>272</a>//! // my_app/lib/my_internal_file.rs
<a href=#273 id=273 data-nosnippet>273</a>//! use miette::{miette, Result};
<a href=#274 id=274 data-nosnippet>274</a>//! use semver::Version;
<a href=#275 id=275 data-nosnippet>275</a>//!
<a href=#276 id=276 data-nosnippet>276</a>//! pub fn some_tool() -&gt; Result&lt;Version&gt; {
<a href=#277 id=277 data-nosnippet>277</a>//!     let version = "1.2.x";
<a href=#278 id=278 data-nosnippet>278</a>//!     version
<a href=#279 id=279 data-nosnippet>279</a>//!         .parse()
<a href=#280 id=280 data-nosnippet>280</a>//!         .map_err(|_| miette!("Invalid version {}", version))
<a href=#281 id=281 data-nosnippet>281</a>//! }
<a href=#282 id=282 data-nosnippet>282</a>//! ```
<a href=#283 id=283 data-nosnippet>283</a>//! There are also similar [bail!] and [ensure!] macros.
<a href=#284 id=284 data-nosnippet>284</a>//!
<a href=#285 id=285 data-nosnippet>285</a>//! ### ... in `main()`
<a href=#286 id=286 data-nosnippet>286</a>//!
<a href=#287 id=287 data-nosnippet>287</a>//! `main()` is just like any other part of your application-internal code. Use
<a href=#288 id=288 data-nosnippet>288</a>//! `Result` as your return value, and it will pretty-print your diagnostics
<a href=#289 id=289 data-nosnippet>289</a>//! automatically.
<a href=#290 id=290 data-nosnippet>290</a>//!
<a href=#291 id=291 data-nosnippet>291</a>//! &gt; **NOTE:** You must enable the `"fancy"` crate feature to get fancy report
<a href=#292 id=292 data-nosnippet>292</a>//! &gt; output like in the screenshots here.** You should only do this in your
<a href=#293 id=293 data-nosnippet>293</a>//! &gt; toplevel crate, as the fancy feature pulls in a number of dependencies that
<a href=#294 id=294 data-nosnippet>294</a>//! &gt; libraries and such might not want.
<a href=#295 id=295 data-nosnippet>295</a>//!
<a href=#296 id=296 data-nosnippet>296</a>//! ```rust
<a href=#297 id=297 data-nosnippet>297</a>//! use miette::{IntoDiagnostic, Result};
<a href=#298 id=298 data-nosnippet>298</a>//! use semver::Version;
<a href=#299 id=299 data-nosnippet>299</a>//!
<a href=#300 id=300 data-nosnippet>300</a>//! fn pretend_this_is_main() -&gt; Result&lt;()&gt; {
<a href=#301 id=301 data-nosnippet>301</a>//!     let version: Version = "1.2.x".parse().into_diagnostic()?;
<a href=#302 id=302 data-nosnippet>302</a>//!     println!("{}", version);
<a href=#303 id=303 data-nosnippet>303</a>//!     Ok(())
<a href=#304 id=304 data-nosnippet>304</a>//! }
<a href=#305 id=305 data-nosnippet>305</a>//! ```
<a href=#306 id=306 data-nosnippet>306</a>//!
<a href=#307 id=307 data-nosnippet>307</a>//! Please note: in order to get fancy diagnostic rendering with all the pretty
<a href=#308 id=308 data-nosnippet>308</a>//! colors and arrows, you should install `miette` with the `fancy` feature
<a href=#309 id=309 data-nosnippet>309</a>//! enabled:
<a href=#310 id=310 data-nosnippet>310</a>//!
<a href=#311 id=311 data-nosnippet>311</a>//! ```toml
<a href=#312 id=312 data-nosnippet>312</a>//! miette = { version = "X.Y.Z", features = ["fancy"] }
<a href=#313 id=313 data-nosnippet>313</a>//! ```
<a href=#314 id=314 data-nosnippet>314</a>//!
<a href=#315 id=315 data-nosnippet>315</a>//! Another way to display a diagnostic is by printing them using the debug formatter.
<a href=#316 id=316 data-nosnippet>316</a>//! This is, in fact, what returning diagnostics from main ends up doing.
<a href=#317 id=317 data-nosnippet>317</a>//! To do it yourself, you can write the following:
<a href=#318 id=318 data-nosnippet>318</a>//!
<a href=#319 id=319 data-nosnippet>319</a>//! ```rust
<a href=#320 id=320 data-nosnippet>320</a>//! use miette::{IntoDiagnostic, Result};
<a href=#321 id=321 data-nosnippet>321</a>//! use semver::Version;
<a href=#322 id=322 data-nosnippet>322</a>//!
<a href=#323 id=323 data-nosnippet>323</a>//! fn just_a_random_function() {
<a href=#324 id=324 data-nosnippet>324</a>//!     let version_result: Result&lt;Version&gt; = "1.2.x".parse().into_diagnostic();
<a href=#325 id=325 data-nosnippet>325</a>//!     match version_result {
<a href=#326 id=326 data-nosnippet>326</a>//!         Err(e) =&gt; println!("{:?}", e),
<a href=#327 id=327 data-nosnippet>327</a>//!         Ok(version) =&gt; println!("{}", version),
<a href=#328 id=328 data-nosnippet>328</a>//!     }
<a href=#329 id=329 data-nosnippet>329</a>//! }
<a href=#330 id=330 data-nosnippet>330</a>//! ```
<a href=#331 id=331 data-nosnippet>331</a>//!
<a href=#332 id=332 data-nosnippet>332</a>//! ### ... diagnostic code URLs
<a href=#333 id=333 data-nosnippet>333</a>//!
<a href=#334 id=334 data-nosnippet>334</a>//! `miette` supports providing a URL for individual diagnostics. This URL will
<a href=#335 id=335 data-nosnippet>335</a>//! be displayed as an actual link in supported terminals, like so:
<a href=#336 id=336 data-nosnippet>336</a>//!
<a href=#337 id=337 data-nosnippet>337</a>//! &lt;img
<a href=#338 id=338 data-nosnippet>338</a>//! src="https://raw.githubusercontent.com/zkat/miette/main/images/code_linking.png"
<a href=#339 id=339 data-nosnippet>339</a>//! alt=" Example showing the graphical report printer for miette
<a href=#340 id=340 data-nosnippet>340</a>//! pretty-printing an error code. The code is underlined and followed by text
<a href=#341 id=341 data-nosnippet>341</a>//! saying to 'click here'. A hover tooltip shows a full-fledged URL that can be
<a href=#342 id=342 data-nosnippet>342</a>//! Ctrl+Clicked to open in a browser.
<a href=#343 id=343 data-nosnippet>343</a>//! \
<a href=#344 id=344 data-nosnippet>344</a>//! This feature is also available in the narratable printer. It will add a line
<a href=#345 id=345 data-nosnippet>345</a>//! after printing the error code showing a plain URL that you can visit.
<a href=#346 id=346 data-nosnippet>346</a>//! "&gt;
<a href=#347 id=347 data-nosnippet>347</a>//!
<a href=#348 id=348 data-nosnippet>348</a>//! To use this, you can add a `url()` sub-param to your `#[diagnostic]`
<a href=#349 id=349 data-nosnippet>349</a>//! attribute:
<a href=#350 id=350 data-nosnippet>350</a>//!
<a href=#351 id=351 data-nosnippet>351</a>//! ```rust
<a href=#352 id=352 data-nosnippet>352</a>//! use miette::Diagnostic;
<a href=#353 id=353 data-nosnippet>353</a>//! use thiserror::Error;
<a href=#354 id=354 data-nosnippet>354</a>//!
<a href=#355 id=355 data-nosnippet>355</a>//! #[derive(Error, Diagnostic, Debug)]
<a href=#356 id=356 data-nosnippet>356</a>//! #[error("kaboom")]
<a href=#357 id=357 data-nosnippet>357</a>//! #[diagnostic(
<a href=#358 id=358 data-nosnippet>358</a>//!     code(my_app::my_error),
<a href=#359 id=359 data-nosnippet>359</a>//!     // You can do formatting!
<a href=#360 id=360 data-nosnippet>360</a>//!     url("https://my_website.com/error_codes#{}", self.code().unwrap())
<a href=#361 id=361 data-nosnippet>361</a>//! )]
<a href=#362 id=362 data-nosnippet>362</a>//! struct MyErr;
<a href=#363 id=363 data-nosnippet>363</a>//! ```
<a href=#364 id=364 data-nosnippet>364</a>//!
<a href=#365 id=365 data-nosnippet>365</a>//! Additionally, if you're developing a library and your error type is exported
<a href=#366 id=366 data-nosnippet>366</a>//! from your crate's top level, you can use a special `url(docsrs)` option
<a href=#367 id=367 data-nosnippet>367</a>//! instead of manually constructing the URL. This will automatically create a
<a href=#368 id=368 data-nosnippet>368</a>//! link to this diagnostic on `docs.rs`, so folks can just go straight to your
<a href=#369 id=369 data-nosnippet>369</a>//! (very high quality and detailed!) documentation on this diagnostic:
<a href=#370 id=370 data-nosnippet>370</a>//!
<a href=#371 id=371 data-nosnippet>371</a>//! ```rust
<a href=#372 id=372 data-nosnippet>372</a>//! use miette::Diagnostic;
<a href=#373 id=373 data-nosnippet>373</a>//! use thiserror::Error;
<a href=#374 id=374 data-nosnippet>374</a>//!
<a href=#375 id=375 data-nosnippet>375</a>//! #[derive(Error, Diagnostic, Debug)]
<a href=#376 id=376 data-nosnippet>376</a>//! #[diagnostic(
<a href=#377 id=377 data-nosnippet>377</a>//!     code(my_app::my_error),
<a href=#378 id=378 data-nosnippet>378</a>//!     // Will link users to https://docs.rs/my_crate/0.0.0/my_crate/struct.MyErr.html
<a href=#379 id=379 data-nosnippet>379</a>//!     url(docsrs)
<a href=#380 id=380 data-nosnippet>380</a>//! )]
<a href=#381 id=381 data-nosnippet>381</a>//! #[error("kaboom")]
<a href=#382 id=382 data-nosnippet>382</a>//! struct MyErr;
<a href=#383 id=383 data-nosnippet>383</a>//! ```
<a href=#384 id=384 data-nosnippet>384</a>//!
<a href=#385 id=385 data-nosnippet>385</a>//! ### ... snippets
<a href=#386 id=386 data-nosnippet>386</a>//!
<a href=#387 id=387 data-nosnippet>387</a>//! Along with its general error handling and reporting features, `miette` also
<a href=#388 id=388 data-nosnippet>388</a>//! includes facilities for adding error spans/annotations/labels to your
<a href=#389 id=389 data-nosnippet>389</a>//! output. This can be very useful when an error is syntax-related, but you can
<a href=#390 id=390 data-nosnippet>390</a>//! even use it to print out sections of your own source code!
<a href=#391 id=391 data-nosnippet>391</a>//!
<a href=#392 id=392 data-nosnippet>392</a>//! To achieve this, `miette` defines its own lightweight [`SourceSpan`] type.
<a href=#393 id=393 data-nosnippet>393</a>//! This is a basic byte-offset and length into an associated [`SourceCode`]
<a href=#394 id=394 data-nosnippet>394</a>//! and, along with the latter, gives `miette` all the information it needs to
<a href=#395 id=395 data-nosnippet>395</a>//! pretty-print some snippets! You can also use your own `Into&lt;SourceSpan&gt;`
<a href=#396 id=396 data-nosnippet>396</a>//! types as label spans.
<a href=#397 id=397 data-nosnippet>397</a>//!
<a href=#398 id=398 data-nosnippet>398</a>//! The easiest way to define errors like this is to use the
<a href=#399 id=399 data-nosnippet>399</a>//! `derive(Diagnostic)` macro:
<a href=#400 id=400 data-nosnippet>400</a>//!
<a href=#401 id=401 data-nosnippet>401</a>//! ```rust
<a href=#402 id=402 data-nosnippet>402</a>//! use miette::{Diagnostic, SourceSpan};
<a href=#403 id=403 data-nosnippet>403</a>//! use thiserror::Error;
<a href=#404 id=404 data-nosnippet>404</a>//!
<a href=#405 id=405 data-nosnippet>405</a>//! #[derive(Diagnostic, Debug, Error)]
<a href=#406 id=406 data-nosnippet>406</a>//! #[error("oops")]
<a href=#407 id=407 data-nosnippet>407</a>//! #[diagnostic(code(my_lib::random_error))]
<a href=#408 id=408 data-nosnippet>408</a>//! pub struct MyErrorType {
<a href=#409 id=409 data-nosnippet>409</a>//!     // The `Source` that miette will use.
<a href=#410 id=410 data-nosnippet>410</a>//!     #[source_code]
<a href=#411 id=411 data-nosnippet>411</a>//!     src: String,
<a href=#412 id=412 data-nosnippet>412</a>//!
<a href=#413 id=413 data-nosnippet>413</a>//!     // This will underline/mark the specific code inside the larger
<a href=#414 id=414 data-nosnippet>414</a>//!     // snippet context.
<a href=#415 id=415 data-nosnippet>415</a>//!     #[label = "This is the highlight"]
<a href=#416 id=416 data-nosnippet>416</a>//!     err_span: SourceSpan,
<a href=#417 id=417 data-nosnippet>417</a>//!
<a href=#418 id=418 data-nosnippet>418</a>//!     // You can add as many labels as you want.
<a href=#419 id=419 data-nosnippet>419</a>//!     // They'll be rendered sequentially.
<a href=#420 id=420 data-nosnippet>420</a>//!     #[label("This is bad")]
<a href=#421 id=421 data-nosnippet>421</a>//!     snip2: (usize, usize), // `(usize, usize)` is `Into&lt;SourceSpan&gt;`!
<a href=#422 id=422 data-nosnippet>422</a>//!
<a href=#423 id=423 data-nosnippet>423</a>//!     // Snippets can be optional, by using Option:
<a href=#424 id=424 data-nosnippet>424</a>//!     #[label("some text")]
<a href=#425 id=425 data-nosnippet>425</a>//!     snip3: Option&lt;SourceSpan&gt;,
<a href=#426 id=426 data-nosnippet>426</a>//!
<a href=#427 id=427 data-nosnippet>427</a>//!     // with or without label text
<a href=#428 id=428 data-nosnippet>428</a>//!     #[label]
<a href=#429 id=429 data-nosnippet>429</a>//!     snip4: Option&lt;SourceSpan&gt;,
<a href=#430 id=430 data-nosnippet>430</a>//! }
<a href=#431 id=431 data-nosnippet>431</a>//! ```
<a href=#432 id=432 data-nosnippet>432</a>//!
<a href=#433 id=433 data-nosnippet>433</a>//! ### ... help text
<a href=#434 id=434 data-nosnippet>434</a>//! `miette` provides two facilities for supplying help text for your errors:
<a href=#435 id=435 data-nosnippet>435</a>//!
<a href=#436 id=436 data-nosnippet>436</a>//! The first is the `#[help()]` format attribute that applies to structs or
<a href=#437 id=437 data-nosnippet>437</a>//! enum variants:
<a href=#438 id=438 data-nosnippet>438</a>//!
<a href=#439 id=439 data-nosnippet>439</a>//! ```rust
<a href=#440 id=440 data-nosnippet>440</a>//! use miette::Diagnostic;
<a href=#441 id=441 data-nosnippet>441</a>//! use thiserror::Error;
<a href=#442 id=442 data-nosnippet>442</a>//!
<a href=#443 id=443 data-nosnippet>443</a>//! #[derive(Debug, Diagnostic, Error)]
<a href=#444 id=444 data-nosnippet>444</a>//! #[error("welp")]
<a href=#445 id=445 data-nosnippet>445</a>//! #[diagnostic(help("try doing this instead"))]
<a href=#446 id=446 data-nosnippet>446</a>//! struct Foo;
<a href=#447 id=447 data-nosnippet>447</a>//! ```
<a href=#448 id=448 data-nosnippet>448</a>//!
<a href=#449 id=449 data-nosnippet>449</a>//! The other is by programmatically supplying the help text as a field to
<a href=#450 id=450 data-nosnippet>450</a>//! your diagnostic:
<a href=#451 id=451 data-nosnippet>451</a>//!
<a href=#452 id=452 data-nosnippet>452</a>//! ```rust
<a href=#453 id=453 data-nosnippet>453</a>//! use miette::Diagnostic;
<a href=#454 id=454 data-nosnippet>454</a>//! use thiserror::Error;
<a href=#455 id=455 data-nosnippet>455</a>//!
<a href=#456 id=456 data-nosnippet>456</a>//! #[derive(Debug, Diagnostic, Error)]
<a href=#457 id=457 data-nosnippet>457</a>//! #[error("welp")]
<a href=#458 id=458 data-nosnippet>458</a>//! #[diagnostic()]
<a href=#459 id=459 data-nosnippet>459</a>//! struct Foo {
<a href=#460 id=460 data-nosnippet>460</a>//!     #[help]
<a href=#461 id=461 data-nosnippet>461</a>//!     advice: Option&lt;String&gt;, // Can also just be `String`
<a href=#462 id=462 data-nosnippet>462</a>//! }
<a href=#463 id=463 data-nosnippet>463</a>//!
<a href=#464 id=464 data-nosnippet>464</a>//! let err = Foo {
<a href=#465 id=465 data-nosnippet>465</a>//!     advice: Some("try doing this instead".to_string()),
<a href=#466 id=466 data-nosnippet>466</a>//! };
<a href=#467 id=467 data-nosnippet>467</a>//! ```
<a href=#468 id=468 data-nosnippet>468</a>//!
<a href=#469 id=469 data-nosnippet>469</a>//! ### ... severity level
<a href=#470 id=470 data-nosnippet>470</a>//! `miette` provides a way to set the severity level of a diagnostic.
<a href=#471 id=471 data-nosnippet>471</a>//!
<a href=#472 id=472 data-nosnippet>472</a>//! ```rust
<a href=#473 id=473 data-nosnippet>473</a>//! use miette::Diagnostic;
<a href=#474 id=474 data-nosnippet>474</a>//! use thiserror::Error;
<a href=#475 id=475 data-nosnippet>475</a>//!
<a href=#476 id=476 data-nosnippet>476</a>//! #[derive(Debug, Diagnostic, Error)]
<a href=#477 id=477 data-nosnippet>477</a>//! #[error("welp")]
<a href=#478 id=478 data-nosnippet>478</a>//! #[diagnostic(severity(Warning))]
<a href=#479 id=479 data-nosnippet>479</a>//! struct Foo;
<a href=#480 id=480 data-nosnippet>480</a>//! ```
<a href=#481 id=481 data-nosnippet>481</a>//!
<a href=#482 id=482 data-nosnippet>482</a>//! ### ... multiple related errors
<a href=#483 id=483 data-nosnippet>483</a>//!
<a href=#484 id=484 data-nosnippet>484</a>//! `miette` supports collecting multiple errors into a single diagnostic, and
<a href=#485 id=485 data-nosnippet>485</a>//! printing them all together nicely.
<a href=#486 id=486 data-nosnippet>486</a>//!
<a href=#487 id=487 data-nosnippet>487</a>//! To do so, use the `#[related]` tag on any `IntoIter` field in your
<a href=#488 id=488 data-nosnippet>488</a>//! `Diagnostic` type:
<a href=#489 id=489 data-nosnippet>489</a>//!
<a href=#490 id=490 data-nosnippet>490</a>//! ```rust
<a href=#491 id=491 data-nosnippet>491</a>//! use miette::Diagnostic;
<a href=#492 id=492 data-nosnippet>492</a>//! use thiserror::Error;
<a href=#493 id=493 data-nosnippet>493</a>//!
<a href=#494 id=494 data-nosnippet>494</a>//! #[derive(Debug, Error, Diagnostic)]
<a href=#495 id=495 data-nosnippet>495</a>//! #[error("oops")]
<a href=#496 id=496 data-nosnippet>496</a>//! struct MyError {
<a href=#497 id=497 data-nosnippet>497</a>//!     #[related]
<a href=#498 id=498 data-nosnippet>498</a>//!     others: Vec&lt;MyError&gt;,
<a href=#499 id=499 data-nosnippet>499</a>//! }
<a href=#500 id=500 data-nosnippet>500</a>//! ```
<a href=#501 id=501 data-nosnippet>501</a>//!
<a href=#502 id=502 data-nosnippet>502</a>//! ### ... delayed source code
<a href=#503 id=503 data-nosnippet>503</a>//!
<a href=#504 id=504 data-nosnippet>504</a>//! Sometimes it makes sense to add source code to the error message later.
<a href=#505 id=505 data-nosnippet>505</a>//! One option is to use [`with_source_code()`](Report::with_source_code)
<a href=#506 id=506 data-nosnippet>506</a>//! method for that:
<a href=#507 id=507 data-nosnippet>507</a>//!
<a href=#508 id=508 data-nosnippet>508</a>//! ```rust,no_run
<a href=#509 id=509 data-nosnippet>509</a>//! use miette::{Diagnostic, SourceSpan};
<a href=#510 id=510 data-nosnippet>510</a>//! use thiserror::Error;
<a href=#511 id=511 data-nosnippet>511</a>//!
<a href=#512 id=512 data-nosnippet>512</a>//! #[derive(Diagnostic, Debug, Error)]
<a href=#513 id=513 data-nosnippet>513</a>//! #[error("oops")]
<a href=#514 id=514 data-nosnippet>514</a>//! #[diagnostic()]
<a href=#515 id=515 data-nosnippet>515</a>//! pub struct MyErrorType {
<a href=#516 id=516 data-nosnippet>516</a>//!     // Note: label but no source code
<a href=#517 id=517 data-nosnippet>517</a>//!     #[label]
<a href=#518 id=518 data-nosnippet>518</a>//!     err_span: SourceSpan,
<a href=#519 id=519 data-nosnippet>519</a>//! }
<a href=#520 id=520 data-nosnippet>520</a>//!
<a href=#521 id=521 data-nosnippet>521</a>//! fn do_something() -&gt; miette::Result&lt;()&gt; {
<a href=#522 id=522 data-nosnippet>522</a>//!     // This function emits actual error with label
<a href=#523 id=523 data-nosnippet>523</a>//!     return Err(MyErrorType {
<a href=#524 id=524 data-nosnippet>524</a>//!         err_span: (7..11).into(),
<a href=#525 id=525 data-nosnippet>525</a>//!     })?;
<a href=#526 id=526 data-nosnippet>526</a>//! }
<a href=#527 id=527 data-nosnippet>527</a>//!
<a href=#528 id=528 data-nosnippet>528</a>//! fn main() -&gt; miette::Result&lt;()&gt; {
<a href=#529 id=529 data-nosnippet>529</a>//!     do_something().map_err(|error| {
<a href=#530 id=530 data-nosnippet>530</a>//!         // And this code provides the source code for inner error
<a href=#531 id=531 data-nosnippet>531</a>//!         error.with_source_code(String::from("source code"))
<a href=#532 id=532 data-nosnippet>532</a>//!     })
<a href=#533 id=533 data-nosnippet>533</a>//! }
<a href=#534 id=534 data-nosnippet>534</a>//! ```
<a href=#535 id=535 data-nosnippet>535</a>//!
<a href=#536 id=536 data-nosnippet>536</a>//! Also source code can be provided by a wrapper type. This is especially
<a href=#537 id=537 data-nosnippet>537</a>//! useful in combination with `related`, when multiple errors should be
<a href=#538 id=538 data-nosnippet>538</a>//! emitted at the same time:
<a href=#539 id=539 data-nosnippet>539</a>//!
<a href=#540 id=540 data-nosnippet>540</a>//! ```rust,no_run
<a href=#541 id=541 data-nosnippet>541</a>//! use miette::{Diagnostic, Report, SourceSpan};
<a href=#542 id=542 data-nosnippet>542</a>//! use thiserror::Error;
<a href=#543 id=543 data-nosnippet>543</a>//!
<a href=#544 id=544 data-nosnippet>544</a>//! #[derive(Diagnostic, Debug, Error)]
<a href=#545 id=545 data-nosnippet>545</a>//! #[error("oops")]
<a href=#546 id=546 data-nosnippet>546</a>//! #[diagnostic()]
<a href=#547 id=547 data-nosnippet>547</a>//! pub struct InnerError {
<a href=#548 id=548 data-nosnippet>548</a>//!     // Note: label but no source code
<a href=#549 id=549 data-nosnippet>549</a>//!     #[label]
<a href=#550 id=550 data-nosnippet>550</a>//!     err_span: SourceSpan,
<a href=#551 id=551 data-nosnippet>551</a>//! }
<a href=#552 id=552 data-nosnippet>552</a>//!
<a href=#553 id=553 data-nosnippet>553</a>//! #[derive(Diagnostic, Debug, Error)]
<a href=#554 id=554 data-nosnippet>554</a>//! #[error("oops: multiple errors")]
<a href=#555 id=555 data-nosnippet>555</a>//! #[diagnostic()]
<a href=#556 id=556 data-nosnippet>556</a>//! pub struct MultiError {
<a href=#557 id=557 data-nosnippet>557</a>//!     // Note source code by no labels
<a href=#558 id=558 data-nosnippet>558</a>//!     #[source_code]
<a href=#559 id=559 data-nosnippet>559</a>//!     source_code: String,
<a href=#560 id=560 data-nosnippet>560</a>//!     // The source code above is used for these errors
<a href=#561 id=561 data-nosnippet>561</a>//!     #[related]
<a href=#562 id=562 data-nosnippet>562</a>//!     related: Vec&lt;InnerError&gt;,
<a href=#563 id=563 data-nosnippet>563</a>//! }
<a href=#564 id=564 data-nosnippet>564</a>//!
<a href=#565 id=565 data-nosnippet>565</a>//! fn do_something() -&gt; Result&lt;(), Vec&lt;InnerError&gt;&gt; {
<a href=#566 id=566 data-nosnippet>566</a>//!     Err(vec![
<a href=#567 id=567 data-nosnippet>567</a>//!         InnerError {
<a href=#568 id=568 data-nosnippet>568</a>//!             err_span: (0..6).into(),
<a href=#569 id=569 data-nosnippet>569</a>//!         },
<a href=#570 id=570 data-nosnippet>570</a>//!         InnerError {
<a href=#571 id=571 data-nosnippet>571</a>//!             err_span: (7..11).into(),
<a href=#572 id=572 data-nosnippet>572</a>//!         },
<a href=#573 id=573 data-nosnippet>573</a>//!     ])
<a href=#574 id=574 data-nosnippet>574</a>//! }
<a href=#575 id=575 data-nosnippet>575</a>//!
<a href=#576 id=576 data-nosnippet>576</a>//! fn main() -&gt; miette::Result&lt;()&gt; {
<a href=#577 id=577 data-nosnippet>577</a>//!     do_something().map_err(|err_list| MultiError {
<a href=#578 id=578 data-nosnippet>578</a>//!         source_code: "source code".into(),
<a href=#579 id=579 data-nosnippet>579</a>//!         related: err_list,
<a href=#580 id=580 data-nosnippet>580</a>//!     })?;
<a href=#581 id=581 data-nosnippet>581</a>//!     Ok(())
<a href=#582 id=582 data-nosnippet>582</a>//! }
<a href=#583 id=583 data-nosnippet>583</a>//! ```
<a href=#584 id=584 data-nosnippet>584</a>//!
<a href=#585 id=585 data-nosnippet>585</a>//! ### ... Diagnostic-based error sources.
<a href=#586 id=586 data-nosnippet>586</a>//!
<a href=#587 id=587 data-nosnippet>587</a>//! When one uses the `#[source]` attribute on a field, that usually comes
<a href=#588 id=588 data-nosnippet>588</a>//! from `thiserror`, and implements a method for
<a href=#589 id=589 data-nosnippet>589</a>//! [`std::error::Error::source`]. This works in many cases, but it's lossy:
<a href=#590 id=590 data-nosnippet>590</a>//! if the source of the diagnostic is a diagnostic itself, the source will
<a href=#591 id=591 data-nosnippet>591</a>//! simply be treated as an `std::error::Error`.
<a href=#592 id=592 data-nosnippet>592</a>//!
<a href=#593 id=593 data-nosnippet>593</a>//! While this has no effect on the existing _reporters_, since they don't use
<a href=#594 id=594 data-nosnippet>594</a>//! that information right now, APIs who might want this information will have
<a href=#595 id=595 data-nosnippet>595</a>//! no access to it.
<a href=#596 id=596 data-nosnippet>596</a>//!
<a href=#597 id=597 data-nosnippet>597</a>//! If it's important for you for this information to be available to users,
<a href=#598 id=598 data-nosnippet>598</a>//! you can use `#[diagnostic_source]` alongside `#[source]`. Not that you
<a href=#599 id=599 data-nosnippet>599</a>//! will likely want to use _both_:
<a href=#600 id=600 data-nosnippet>600</a>//!
<a href=#601 id=601 data-nosnippet>601</a>//! ```rust
<a href=#602 id=602 data-nosnippet>602</a>//! use miette::Diagnostic;
<a href=#603 id=603 data-nosnippet>603</a>//! use thiserror::Error;
<a href=#604 id=604 data-nosnippet>604</a>//!
<a href=#605 id=605 data-nosnippet>605</a>//! #[derive(Debug, Diagnostic, Error)]
<a href=#606 id=606 data-nosnippet>606</a>//! #[error("MyError")]
<a href=#607 id=607 data-nosnippet>607</a>//! struct MyError {
<a href=#608 id=608 data-nosnippet>608</a>//!     #[source]
<a href=#609 id=609 data-nosnippet>609</a>//!     #[diagnostic_source]
<a href=#610 id=610 data-nosnippet>610</a>//!     the_cause: OtherError,
<a href=#611 id=611 data-nosnippet>611</a>//! }
<a href=#612 id=612 data-nosnippet>612</a>//!
<a href=#613 id=613 data-nosnippet>613</a>//! #[derive(Debug, Diagnostic, Error)]
<a href=#614 id=614 data-nosnippet>614</a>//! #[error("OtherError")]
<a href=#615 id=615 data-nosnippet>615</a>//! struct OtherError;
<a href=#616 id=616 data-nosnippet>616</a>//! ```
<a href=#617 id=617 data-nosnippet>617</a>//!
<a href=#618 id=618 data-nosnippet>618</a>//! ### ... handler options
<a href=#619 id=619 data-nosnippet>619</a>//!
<a href=#620 id=620 data-nosnippet>620</a>//! [`MietteHandler`] is the default handler, and is very customizable. In
<a href=#621 id=621 data-nosnippet>621</a>//! most cases, you can simply use [`MietteHandlerOpts`] to tweak its behavior
<a href=#622 id=622 data-nosnippet>622</a>//! instead of falling back to your own custom handler.
<a href=#623 id=623 data-nosnippet>623</a>//!
<a href=#624 id=624 data-nosnippet>624</a>//! Usage is like so:
<a href=#625 id=625 data-nosnippet>625</a>//!
<a href=#626 id=626 data-nosnippet>626</a>//! ```rust,ignore
<a href=#627 id=627 data-nosnippet>627</a>//! miette::set_hook(Box::new(|_| {
<a href=#628 id=628 data-nosnippet>628</a>//!     Box::new(
<a href=#629 id=629 data-nosnippet>629</a>//!         miette::MietteHandlerOpts::new()
<a href=#630 id=630 data-nosnippet>630</a>//!             .terminal_links(true)
<a href=#631 id=631 data-nosnippet>631</a>//!             .unicode(false)
<a href=#632 id=632 data-nosnippet>632</a>//!             .context_lines(3)
<a href=#633 id=633 data-nosnippet>633</a>//!             .tab_width(4)
<a href=#634 id=634 data-nosnippet>634</a>//!             .break_words(true)
<a href=#635 id=635 data-nosnippet>635</a>//!             .build(),
<a href=#636 id=636 data-nosnippet>636</a>//!     )
<a href=#637 id=637 data-nosnippet>637</a>//! }))
<a href=#638 id=638 data-nosnippet>638</a>//!
<a href=#639 id=639 data-nosnippet>639</a>//! ```
<a href=#640 id=640 data-nosnippet>640</a>//!
<a href=#641 id=641 data-nosnippet>641</a>//! See the docs for [`MietteHandlerOpts`] for more details on what you can
<a href=#642 id=642 data-nosnippet>642</a>//! customize!
<a href=#643 id=643 data-nosnippet>643</a>//!
<a href=#644 id=644 data-nosnippet>644</a>//! ### ... dynamic diagnostics
<a href=#645 id=645 data-nosnippet>645</a>//!
<a href=#646 id=646 data-nosnippet>646</a>//! If you...
<a href=#647 id=647 data-nosnippet>647</a>//! - ...don't know all the possible errors upfront
<a href=#648 id=648 data-nosnippet>648</a>//! - ...need to serialize/deserialize errors
<a href=#649 id=649 data-nosnippet>649</a>//!   then you may want to use [`miette!`], [`diagnostic!`] macros or
<a href=#650 id=650 data-nosnippet>650</a>//!   [`MietteDiagnostic`] directly to create diagnostic on the fly.
<a href=#651 id=651 data-nosnippet>651</a>//!
<a href=#652 id=652 data-nosnippet>652</a>//! ```rust,ignore
<a href=#653 id=653 data-nosnippet>653</a>//! # use miette::{miette, LabeledSpan, Report};
<a href=#654 id=654 data-nosnippet>654</a>//!
<a href=#655 id=655 data-nosnippet>655</a>//! let source = "2 + 2 * 2 = 8".to_string();
<a href=#656 id=656 data-nosnippet>656</a>//! let report = miette!(
<a href=#657 id=657 data-nosnippet>657</a>//!   labels = vec![
<a href=#658 id=658 data-nosnippet>658</a>//!       LabeledSpan::at(12..13, "this should be 6"),
<a href=#659 id=659 data-nosnippet>659</a>//!   ],
<a href=#660 id=660 data-nosnippet>660</a>//!   help = "'*' has greater precedence than '+'",
<a href=#661 id=661 data-nosnippet>661</a>//!   "Wrong answer"
<a href=#662 id=662 data-nosnippet>662</a>//! ).with_source_code(source);
<a href=#663 id=663 data-nosnippet>663</a>//! println!("{:?}", report)
<a href=#664 id=664 data-nosnippet>664</a>//! ```
<a href=#665 id=665 data-nosnippet>665</a>//!
<a href=#666 id=666 data-nosnippet>666</a>//! ### ... syntax highlighting
<a href=#667 id=667 data-nosnippet>667</a>//!
<a href=#668 id=668 data-nosnippet>668</a>//! `miette` can be configured to highlight syntax in source code snippets.
<a href=#669 id=669 data-nosnippet>669</a>//!
<a href=#670 id=670 data-nosnippet>670</a>//! &lt;!-- TODO: screenshot goes here once default Theme is decided --&gt;
<a href=#671 id=671 data-nosnippet>671</a>//!
<a href=#672 id=672 data-nosnippet>672</a>//! To use the built-in highlighting functionality, you must enable the
<a href=#673 id=673 data-nosnippet>673</a>//! `syntect-highlighter` crate feature. When this feature is enabled, `miette` will
<a href=#674 id=674 data-nosnippet>674</a>//! automatically use the [`syntect`] crate to highlight the `#[source_code]`
<a href=#675 id=675 data-nosnippet>675</a>//! field of your [`Diagnostic`].
<a href=#676 id=676 data-nosnippet>676</a>//!
<a href=#677 id=677 data-nosnippet>677</a>//! Syntax detection with [`syntect`] is handled by checking 2 methods on the [`SpanContents`] trait, in order:
<a href=#678 id=678 data-nosnippet>678</a>//! * [`language()`](SpanContents::language) - Provides the name of the language
<a href=#679 id=679 data-nosnippet>679</a>//!   as a string. For example `"Rust"` will indicate Rust syntax highlighting.
<a href=#680 id=680 data-nosnippet>680</a>//!   You can set the language of the [`SpanContents`] produced by a
<a href=#681 id=681 data-nosnippet>681</a>//!   [`NamedSource`] via the [`with_language`](NamedSource::with_language)
<a href=#682 id=682 data-nosnippet>682</a>//!   method.
<a href=#683 id=683 data-nosnippet>683</a>//! * [`name()`](SpanContents::name) - In the absence of an explicitly set
<a href=#684 id=684 data-nosnippet>684</a>//!   language, the name is assumed to contain a file name or file path.
<a href=#685 id=685 data-nosnippet>685</a>//!   The highlighter will check for a file extension at the end of the name and
<a href=#686 id=686 data-nosnippet>686</a>//!   try to guess the syntax from that.
<a href=#687 id=687 data-nosnippet>687</a>//!
<a href=#688 id=688 data-nosnippet>688</a>//! If you want to use a custom highlighter, you can provide a custom
<a href=#689 id=689 data-nosnippet>689</a>//! implementation of the [`Highlighter`](highlighters::Highlighter)
<a href=#690 id=690 data-nosnippet>690</a>//! trait to [`MietteHandlerOpts`] by calling the
<a href=#691 id=691 data-nosnippet>691</a>//! [`with_syntax_highlighting`](MietteHandlerOpts::with_syntax_highlighting)
<a href=#692 id=692 data-nosnippet>692</a>//! method. See the [`highlighters`] module docs for more details.
<a href=#693 id=693 data-nosnippet>693</a>//!
<a href=#694 id=694 data-nosnippet>694</a>//! ### ... primary label
<a href=#695 id=695 data-nosnippet>695</a>//!
<a href=#696 id=696 data-nosnippet>696</a>//! You can use the `primary` parameter to `label` to indicate that the label
<a href=#697 id=697 data-nosnippet>697</a>//! is the primary label.
<a href=#698 id=698 data-nosnippet>698</a>//!
<a href=#699 id=699 data-nosnippet>699</a>//! ```rust,ignore
<a href=#700 id=700 data-nosnippet>700</a>//! #[derive(Debug, Diagnostic, Error)]
<a href=#701 id=701 data-nosnippet>701</a>//! #[error("oops!")]
<a href=#702 id=702 data-nosnippet>702</a>//! struct MyError {
<a href=#703 id=703 data-nosnippet>703</a>//!     #[label(primary, "main issue")]
<a href=#704 id=704 data-nosnippet>704</a>//!     primary_span: SourceSpan,
<a href=#705 id=705 data-nosnippet>705</a>//!
<a href=#706 id=706 data-nosnippet>706</a>//!     #[label("other label")]
<a href=#707 id=707 data-nosnippet>707</a>//!     other_span: SourceSpan,
<a href=#708 id=708 data-nosnippet>708</a>//! }
<a href=#709 id=709 data-nosnippet>709</a>//! ```
<a href=#710 id=710 data-nosnippet>710</a>//!
<a href=#711 id=711 data-nosnippet>711</a>//! The `primary` parameter can be used at most once:
<a href=#712 id=712 data-nosnippet>712</a>//!
<a href=#713 id=713 data-nosnippet>713</a>//! ```rust,ignore
<a href=#714 id=714 data-nosnippet>714</a>//! #[derive(Debug, Diagnostic, Error)]
<a href=#715 id=715 data-nosnippet>715</a>//! #[error("oops!")]
<a href=#716 id=716 data-nosnippet>716</a>//! struct MyError {
<a href=#717 id=717 data-nosnippet>717</a>//!     #[label(primary, "main issue")]
<a href=#718 id=718 data-nosnippet>718</a>//!     primary_span: SourceSpan,
<a href=#719 id=719 data-nosnippet>719</a>//!
<a href=#720 id=720 data-nosnippet>720</a>//!     #[label(primary, "other label")] // Error: Cannot have more than one primary label.
<a href=#721 id=721 data-nosnippet>721</a>//!     other_span: SourceSpan,
<a href=#722 id=722 data-nosnippet>722</a>//! }
<a href=#723 id=723 data-nosnippet>723</a>//! ```
<a href=#724 id=724 data-nosnippet>724</a>//!
<a href=#725 id=725 data-nosnippet>725</a>//! ### ... collection of labels
<a href=#726 id=726 data-nosnippet>726</a>//!
<a href=#727 id=727 data-nosnippet>727</a>//! When the number of labels is unknown, you can use a collection of `SourceSpan`
<a href=#728 id=728 data-nosnippet>728</a>//! (or any type convertible into `SourceSpan`). For this, add the `collection`
<a href=#729 id=729 data-nosnippet>729</a>//! parameter to `label` and use any type than can be iterated over for the field.
<a href=#730 id=730 data-nosnippet>730</a>//!
<a href=#731 id=731 data-nosnippet>731</a>//! ```rust,ignore
<a href=#732 id=732 data-nosnippet>732</a>//! #[derive(Debug, Diagnostic, Error)]
<a href=#733 id=733 data-nosnippet>733</a>//! #[error("oops!")]
<a href=#734 id=734 data-nosnippet>734</a>//! struct MyError {
<a href=#735 id=735 data-nosnippet>735</a>//!     #[label("main issue")]
<a href=#736 id=736 data-nosnippet>736</a>//!     primary_span: SourceSpan,
<a href=#737 id=737 data-nosnippet>737</a>//!
<a href=#738 id=738 data-nosnippet>738</a>//!     #[label(collection, "related to this")]
<a href=#739 id=739 data-nosnippet>739</a>//!     other_spans: Vec&lt;Range&lt;usize&gt;&gt;,
<a href=#740 id=740 data-nosnippet>740</a>//! }
<a href=#741 id=741 data-nosnippet>741</a>//!
<a href=#742 id=742 data-nosnippet>742</a>//! let report: miette::Report = MyError {
<a href=#743 id=743 data-nosnippet>743</a>//!     primary_span: (6, 9).into(),
<a href=#744 id=744 data-nosnippet>744</a>//!     other_spans: vec![19..26, 30..41],
<a href=#745 id=745 data-nosnippet>745</a>//! }.into();
<a href=#746 id=746 data-nosnippet>746</a>//!
<a href=#747 id=747 data-nosnippet>747</a>//! println!("{:?}", report.with_source_code("About something or another or yet another ...".to_string()));
<a href=#748 id=748 data-nosnippet>748</a>//! ```
<a href=#749 id=749 data-nosnippet>749</a>//!
<a href=#750 id=750 data-nosnippet>750</a>//! A collection can also be of `LabeledSpan` if you want to have different text
<a href=#751 id=751 data-nosnippet>751</a>//! for different labels. Labels with no text will use the one from the `label`
<a href=#752 id=752 data-nosnippet>752</a>//! attribute
<a href=#753 id=753 data-nosnippet>753</a>//!
<a href=#754 id=754 data-nosnippet>754</a>//! ```rust,ignore
<a href=#755 id=755 data-nosnippet>755</a>//! #[derive(Debug, Diagnostic, Error)]
<a href=#756 id=756 data-nosnippet>756</a>//! #[error("oops!")]
<a href=#757 id=757 data-nosnippet>757</a>//! struct MyError {
<a href=#758 id=758 data-nosnippet>758</a>//!     #[label("main issue")]
<a href=#759 id=759 data-nosnippet>759</a>//!     primary_span: SourceSpan,
<a href=#760 id=760 data-nosnippet>760</a>//!
<a href=#761 id=761 data-nosnippet>761</a>//!     #[label(collection, "related to this")]
<a href=#762 id=762 data-nosnippet>762</a>//!     other_spans: Vec&lt;LabeledSpan&gt;, // LabeledSpan
<a href=#763 id=763 data-nosnippet>763</a>//! }
<a href=#764 id=764 data-nosnippet>764</a>//!
<a href=#765 id=765 data-nosnippet>765</a>//! let report: miette::Report = MyError {
<a href=#766 id=766 data-nosnippet>766</a>//!     primary_span: (6, 9).into(),
<a href=#767 id=767 data-nosnippet>767</a>//!     other_spans: vec![
<a href=#768 id=768 data-nosnippet>768</a>//!         LabeledSpan::new(None, 19, 7), // Use default text `related to this`
<a href=#769 id=769 data-nosnippet>769</a>//!         LabeledSpan::new(Some("and also this".to_string()), 30, 11), // Use specific text
<a href=#770 id=770 data-nosnippet>770</a>//!     ],
<a href=#771 id=771 data-nosnippet>771</a>//! }.into();
<a href=#772 id=772 data-nosnippet>772</a>//!
<a href=#773 id=773 data-nosnippet>773</a>//! println!("{:?}", report.with_source_code("About something or another or yet another ...".to_string()));
<a href=#774 id=774 data-nosnippet>774</a>//! ```
<a href=#775 id=775 data-nosnippet>775</a>//!
<a href=#776 id=776 data-nosnippet>776</a>//! ## MSRV
<a href=#777 id=777 data-nosnippet>777</a>//!
<a href=#778 id=778 data-nosnippet>778</a>//! This crate requires rustc 1.70.0 or later.
<a href=#779 id=779 data-nosnippet>779</a>//!
<a href=#780 id=780 data-nosnippet>780</a>//! ## Acknowledgements
<a href=#781 id=781 data-nosnippet>781</a>//!
<a href=#782 id=782 data-nosnippet>782</a>//! `miette` was not developed in a void. It owes enormous credit to various
<a href=#783 id=783 data-nosnippet>783</a>//! other projects and their authors:
<a href=#784 id=784 data-nosnippet>784</a>//!
<a href=#785 id=785 data-nosnippet>785</a>//! - [`anyhow`](http://crates.io/crates/anyhow) and [`color-eyre`](https://crates.io/crates/color-eyre):
<a href=#786 id=786 data-nosnippet>786</a>//!   these two enormously influential error handling libraries have pushed
<a href=#787 id=787 data-nosnippet>787</a>//!   forward the experience of application-level error handling and error
<a href=#788 id=788 data-nosnippet>788</a>//!   reporting. `miette`'s `Report` type is an attempt at a very very rough
<a href=#789 id=789 data-nosnippet>789</a>//!   version of their `Report` types.
<a href=#790 id=790 data-nosnippet>790</a>//! - [`thiserror`](https://crates.io/crates/thiserror) for setting the standard
<a href=#791 id=791 data-nosnippet>791</a>//!   for library-level error definitions, and for being the inspiration behind
<a href=#792 id=792 data-nosnippet>792</a>//!   `miette`'s derive macro.
<a href=#793 id=793 data-nosnippet>793</a>//! - `rustc` and [@estebank](https://github.com/estebank) for their
<a href=#794 id=794 data-nosnippet>794</a>//!   state-of-the-art work in compiler diagnostics.
<a href=#795 id=795 data-nosnippet>795</a>//! - [`ariadne`](https://crates.io/crates/ariadne) for pushing forward how
<a href=#796 id=796 data-nosnippet>796</a>//!   _pretty_ these diagnostics can really look!
<a href=#797 id=797 data-nosnippet>797</a>//!
<a href=#798 id=798 data-nosnippet>798</a>//! ## License
<a href=#799 id=799 data-nosnippet>799</a>//!
<a href=#800 id=800 data-nosnippet>800</a>//! `miette` is released to the Rust community under the [Apache license
<a href=#801 id=801 data-nosnippet>801</a>//! 2.0](./LICENSE).
<a href=#802 id=802 data-nosnippet>802</a>//!
<a href=#803 id=803 data-nosnippet>803</a>//! It also includes code taken from [`eyre`](https://github.com/yaahc/eyre),
<a href=#804 id=804 data-nosnippet>804</a>//! and some from [`thiserror`](https://github.com/dtolnay/thiserror), also
<a href=#805 id=805 data-nosnippet>805</a>//! under the Apache License. Some code is taken from
<a href=#806 id=806 data-nosnippet>806</a>//! [`ariadne`](https://github.com/zesterer/ariadne), which is MIT licensed.
<a href=#807 id=807 data-nosnippet>807</a></span><span class="attr">#[cfg(feature = <span class="string">"derive"</span>)]
<a href=#808 id=808 data-nosnippet>808</a></span><span class="kw">pub use </span>miette_derive::<span class="kw-2">*</span>;
<a href=#809 id=809 data-nosnippet>809</a>
<a href=#810 id=810 data-nosnippet>810</a><span class="kw">pub use </span>error::<span class="kw-2">*</span>;
<a href=#811 id=811 data-nosnippet>811</a><span class="kw">pub use </span>eyreish::<span class="kw-2">*</span>;
<a href=#812 id=812 data-nosnippet>812</a><span class="attr">#[cfg(feature = <span class="string">"fancy-base"</span>)]
<a href=#813 id=813 data-nosnippet>813</a></span><span class="kw">pub use </span>handler::<span class="kw-2">*</span>;
<a href=#814 id=814 data-nosnippet>814</a><span class="kw">pub use </span>handlers::<span class="kw-2">*</span>;
<a href=#815 id=815 data-nosnippet>815</a><span class="kw">pub use </span>miette_diagnostic::<span class="kw-2">*</span>;
<a href=#816 id=816 data-nosnippet>816</a><span class="kw">pub use </span>named_source::<span class="kw-2">*</span>;
<a href=#817 id=817 data-nosnippet>817</a><span class="attr">#[cfg(feature = <span class="string">"fancy"</span>)]
<a href=#818 id=818 data-nosnippet>818</a></span><span class="kw">pub use </span>panic::<span class="kw-2">*</span>;
<a href=#819 id=819 data-nosnippet>819</a><span class="kw">pub use </span>protocol::<span class="kw-2">*</span>;
<a href=#820 id=820 data-nosnippet>820</a>
<a href=#821 id=821 data-nosnippet>821</a><span class="kw">mod </span>chain;
<a href=#822 id=822 data-nosnippet>822</a><span class="kw">mod </span>diagnostic_chain;
<a href=#823 id=823 data-nosnippet>823</a><span class="kw">mod </span>diagnostic_impls;
<a href=#824 id=824 data-nosnippet>824</a><span class="kw">mod </span>error;
<a href=#825 id=825 data-nosnippet>825</a><span class="kw">mod </span>eyreish;
<a href=#826 id=826 data-nosnippet>826</a><span class="attr">#[cfg(feature = <span class="string">"fancy-base"</span>)]
<a href=#827 id=827 data-nosnippet>827</a></span><span class="kw">mod </span>handler;
<a href=#828 id=828 data-nosnippet>828</a><span class="kw">mod </span>handlers;
<a href=#829 id=829 data-nosnippet>829</a><span class="attr">#[cfg(feature = <span class="string">"fancy-base"</span>)]
<a href=#830 id=830 data-nosnippet>830</a></span><span class="kw">pub mod </span>highlighters;
<a href=#831 id=831 data-nosnippet>831</a><span class="attr">#[doc(hidden)]
<a href=#832 id=832 data-nosnippet>832</a></span><span class="kw">pub mod </span>macro_helpers;
<a href=#833 id=833 data-nosnippet>833</a><span class="kw">mod </span>miette_diagnostic;
<a href=#834 id=834 data-nosnippet>834</a><span class="kw">mod </span>named_source;
<a href=#835 id=835 data-nosnippet>835</a><span class="attr">#[cfg(feature = <span class="string">"fancy"</span>)]
<a href=#836 id=836 data-nosnippet>836</a></span><span class="kw">mod </span>panic;
<a href=#837 id=837 data-nosnippet>837</a><span class="kw">mod </span>protocol;
<a href=#838 id=838 data-nosnippet>838</a><span class="kw">mod </span>source_impls;</code></pre></div></section></main></body></html>